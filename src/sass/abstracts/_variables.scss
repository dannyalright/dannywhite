// TODO: expose as Sass variable (@use) to other stylesheets
// and remove use of hardcoded 1024px there
// $mq-desktop-sm: 1024px;
// $mq-desktop-md: 1280px;
// $mq-desktop-lg: 1536px;
// $mq-desktop-xl: 2190px;

:root {
  // Spacing
  --spacing-xs: 1rem;
  --spacing-sm: 1.5rem;
  --spacing-md: 2.5rem;
  --spacing-lg: 3.5rem;

  // Layout
  --grid-template-cols-main: repeat(12, 1fr);
  --grid-gap-main: var(--spacing-lg);

  // @media (min-width: 1024px) {
  //   --grid-gap-main: var(--spacing-lg);
  // }

  // Borders
  --stroke-thick: 2px;
  --stroke-thin: 1px;

  // Type
  --letter-spacing-wide: 0.1em;
  --letter-spacing-reg: -0.005em;
  --letter-spacing-tight: -0.0125em;
  --letter-spacing-xtight: -0.02em;
  --line-height-wide: 175%;
  --line-height-tight: 135%;
  --line-height-xtight: 120%;

  // Transitions
  --transition-text-decoration-color: text-decoration-color 150ms ease-in-out;
  --transition-text-opacity: opacity 150ms ease-in-out;
  // TODO: more smoothly animate box shadow (see footer top borders)
  --transition-color-scheme: background-color 250ms ease-in-out,
    border 250ms ease-in-out, box-shadow 250ms ease-in-out, color 175ms ease;
  --transition-background-color: background-color 150ms ease-in-out;
  --transition-text-opacity-result: 0.5;

  // Colors
  // On light ('light mode')
  --color-background-on-light: #ffffff;
  --color-text-primary-on-light: rgba(40 32 16 / 0.95);
  --color-text-secondary-on-light: rgba(145 137 129 / 0.95);
  --color-border-primary-on-light: rgba(40 32 16 / 0.75);
  --color-border-secondary-on-light: rgba(145 137 129 / 0.35);
  --color-swatch-hero-on-light: hsla(36, 58%, 59%, 0.12);
  --color-swatch-a-on-light: #f8e4d7;
  --color-swatch-b-on-light: #faf8d2;
  --color-swatch-c-on-light: #edf3da;
  --color-swatch-d-on-light: #e4fcf0;
  --color-text-code-tag-on-light: #905;

  // On dark ('dark mode')
  --color-background-on-dark: #161a0d;
  --color-text-primary-on-dark: #f3ffa6;
  --color-text-secondary-on-dark: #f3ffa6;
  --color-border-primary-on-dark: #f3ffa6;
  --color-border-secondary-on-dark: #f3ffa683;
  --color-swatch-hero-on-dark: rgba(243, 255, 166, 0.05);
  --color-swatch-a-on-dark: rgba(243, 255, 166, 0.15);
  --color-swatch-b-on-dark: rgba(243, 255, 166, 0.15);
  --color-swatch-c-on-dark: rgba(243, 255, 166, 0.15);
  --color-swatch-d-on-dark: rgba(243, 255, 166, 0.15);
  --color-text-code-tag-on-dark: rgb(209, 3, 117);

  // Set default colors (to light)
  --color-mode: "light";
  --color-background: var(--color-background-on-light);
  --color-text-primary: var(--color-text-primary-on-light);
  --color-text-secondary: var(--color-text-secondary-on-light);
  --color-border-primary: var(--color-border-primary-on-light);
  --color-border-secondary: var(--color-border-secondary-on-light);
  --color-swatch-hero: var(--color-swatch-hero-on-light);
  --color-swatch-a: var(--color-swatch-a-on-light);
  --color-swatch-b: var(--color-swatch-b-on-light);
  --color-swatch-c: var(--color-swatch-c-on-light);
  --color-swatch-d: var(--color-swatch-d-on-light);
  --color-text-code-tag: var(--color-text-code-tag-on-light);
}

// Light and dark mode handling
// https://piccalil.li/tutorial/create-a-user-controlled-dark-or-light-mode/
// TODO: join @media and [data...] with repetitious bits into one @mixin
// Make changes if user prefers dark color scheme
@media (prefers-color-scheme: dark) {
  :root {
    // Change the color mode from which JS can hook on to
    --color-mode: "dark";
  }

  // Prevent the default from overriding a new user preference
  :root:not([data-user-color-scheme]) {
    --color-background: var(--color-background-on-dark);
    --color-text-primary: var(--color-text-primary-on-dark);
    --color-text-secondary: var(--color-text-secondary-on-dark);
    --color-border-primary: var(--color-border-primary-on-dark);
    --color-border-secondary: var(--color-border-secondary-on-dark);
    --color-swatch-hero: var(--color-swatch-hero-on-dark);
    --color-swatch-a: var(--color-swatch-a-on-dark);
    --color-swatch-b: var(--color-swatch-b-on-dark);
    --color-swatch-c: var(--color-swatch-c-on-dark);
    --color-swatch-d: var(--color-swatch-d-on-dark);
    --color-text-code-tag: var(--color-text-code-tag-on-dark);
  }
}
// Repeats the above
// Keep an eye on a JS-set attribute and change if necessary
[data-user-color-scheme="dark"] {
  --color-background: var(--color-background-on-dark);
  --color-text-primary: var(--color-text-primary-on-dark);
  --color-text-secondary: var(--color-text-secondary-on-dark);
  --color-border-primary: var(--color-border-primary-on-dark);
  --color-border-secondary: var(--color-border-secondary-on-dark);
  --color-swatch-hero: var(--color-swatch-hero-on-dark);
  --color-swatch-a: var(--color-swatch-a-on-dark);
  --color-swatch-b: var(--color-swatch-b-on-dark);
  --color-swatch-c: var(--color-swatch-c-on-dark);
  --color-swatch-d: var(--color-swatch-d-on-dark);
  --color-text-code-tag: var(--color-text-code-tag-on-dark);
}
